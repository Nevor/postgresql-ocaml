OCAML_LIBRARIES =
OCAMLPACKS =

OCAML_LIB_FLAGS += -cclib -lpq

PG_OCAML_MAJOR_VERSION = $(shell pg_config --version | sed -e  "s/^.* \([0-9]\+\).*/\1/g")
PG_OCAML_MINOR_VERSION = $(shell pg_config --version | sed -e "s/^.* [^.]*\.\([0-9]\+\).*/\1/g")

CFLAGS += -DPG_OCAML_MAJOR_VERSION=$(PG_OCAML_MAJOR_VERSION)
CFLAGS += -DPG_OCAML_MINOR_VERSION=$(PG_OCAML_MINOR_VERSION)

LIB_CNAMES = postgresql_stubs
LIB_MLNAMES = postgresql

name = postgresql
OCamlMakeLib(postgresql)

InstantiateOCamlEnv()
